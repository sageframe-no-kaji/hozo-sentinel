<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}HÅzÅ{% endblock %}</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/htmx.org@1.9.12"
          integrity="sha384-ujb1lZYygJmzgSwoxRggbCHcjc0rB2uodhRgS0p9cBlnqFXpwLFpZmw4REFnLDoC"
          crossorigin="anonymous"></script>
  <style>
    body { background: #0f172a; color: #e2e8f0; }
    .card { background: #1e293b; border: 1px solid #334155; border-radius: 0.75rem; }
    .badge-ok  { background: #166534; color: #bbf7d0; }
    .badge-err { background: #7f1d1d; color: #fecaca; }
    .badge-nil { background: #374151; color: #9ca3af; }
    .btn-primary { background:#3b82f6; }
    .btn-primary:hover { background:#2563eb; }
    .btn-warn { background:#f59e0b; }
    .btn-warn:hover { background:#d97706; }
    .btn-danger { background:#ef4444; }
    .btn-danger:hover { background:#dc2626; }
    .htmx-indicator { opacity:0; transition: opacity 0.2s; }
    .htmx-request .htmx-indicator { opacity:1; }
    .htmx-request.htmx-indicator { opacity:1; }
  </style>
</head>
<body class="min-h-screen font-mono">
  <nav class="border-b border-slate-700 px-6 py-4 flex items-center gap-4">
    <a href="/" class="flex items-center gap-2 no-underline">
      <span class="text-2xl">ğŸ¯</span>
      <span class="text-xl font-bold tracking-wide text-slate-100">HÅzÅ</span>
    </a>
    <span class="text-slate-600 text-sm hidden sm:inline">ZFS Backup Orchestrator</span>

    <div class="ml-auto flex items-center gap-3">
      {% if scheduler_running is defined %}
      <span class="text-xs px-2 py-1 rounded
        {% if scheduler_running %}badge-ok{% else %}badge-nil{% endif %}">
        {% if scheduler_running %}â— Scheduler running{% else %}â—‹ No scheduler{% endif %}
      </span>
      {% endif %}

      <a href="/settings" class="text-slate-400 hover:text-slate-200 text-xs">Settings</a>
      <a href="/auth/devices" class="text-slate-400 hover:text-slate-200 text-xs">Devices</a>

      {% if is_authenticated is defined and is_authenticated %}
      <form method="post" action="/auth/logout" class="inline">
        <button type="submit"
                class="text-slate-500 hover:text-slate-300 text-xs cursor-pointer bg-transparent border-0">
          Log out
        </button>
      </form>
      {% elif credentials_exist is defined and credentials_exist %}
      <a href="/auth/login" class="text-blue-400 text-xs">Log in</a>
      {% endif %}
    </div>
  </nav>
  <main class="max-w-5xl mx-auto px-6 py-8">
    {% block content %}{% endblock %}
  </main>
  <footer class="text-center text-slate-600 text-xs py-6">
    HÅzÅ v0.1.0 Â· å®è”µ
  </footer>
</body>
</html>
